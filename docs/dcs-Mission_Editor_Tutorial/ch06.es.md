# CapÃ­tulo 06 â€” Empaquetar `.miz` + subir + rotaciÃ³n en servidor (Windows + Linux)

ğŸ‡¬ğŸ‡§ [English](ch06.md) | ğŸ‡ªğŸ‡¸ **EspaÃ±ol** | ğŸ‡¸ğŸ‡ª [Svenska](ch06.sv.md) | ğŸ‡«ğŸ‡® [Suomi](ch06.fi.md)

Volver al Ã­ndice: [README.es.md](README.es.md)

## Objetivo

Llevar tu misiÃ³n de â€œfunciona en mi PCâ€ a â€œfunciona en servidorâ€:

- Preparar un `.miz` limpio (versionado).
- Instalar/ejecutar un servidor (Windows o host Linux).
- AÃ±adir la misiÃ³n a rotaciÃ³n y probar sin romper nada.

## Realidad importante (Linux)

El DCS Dedicated Server oficial es una aplicaciÃ³n de Windows. En hosts Linux normalmente se ejecuta con Wine/Proton o en una VM Windows.
AquÃ­ cubrimos **proceso y checklist**; los pasos exactos dependen de tu setup.

## Parte A â€” Preparar la misiÃ³n para servidor

### Naming + versionado (haz esto)

- `mi_mision_v01.miz`
- `mi_mision_v02.miz`

MantÃ©n un `CHANGELOG.md` (aunque sea 5 bullets).

### Checklist â€œserverâ€‘friendlyâ€

- Evita demasiada IA siempre activa al inicio (usa late activation).
- Evita triggers sin gate (para que no haya spam).
- Asegura slots `Client` para el bando que quieras.

## Parte B â€” Dedicated Server en Windows (alto nivel)

### InstalaciÃ³n

Opciones comunes:

- Instalar â€œDCS Dedicated Serverâ€ (Steam) o una instalaciÃ³n standalone dedicada.

Necesitas:

- El programa del servidor instalado
- Instancia configurada (nombre, puertos, password si aplica)

### AÃ±adir misiones

1. Copia tus `.miz` en la carpeta de misiones del servidor (o una ruta conocida).
2. En la UI del servidor, aÃ±Ã¡delas a la lista/rotaciÃ³n.
3. Empieza con rotaciÃ³n simple (1â€“3 misiones).

### Quick test

1. Arranca el servidor.
2. Entra desde tu cliente.
3. Carga misiÃ³n y confirma:
   - Slots aparecen
   - La misiÃ³n arranca
   - No hay spam de triggers

## Parte C â€” Servidor en Linux (alto nivel)

En la prÃ¡ctica:

- Ejecutas el dedicated server de Windows con **Wine/Proton**, o
- Montas una VM Windows.

Puntos clave:

- Gestionas `.miz` igual.
- Rutas y carpetas tipo â€œSaved Gamesâ€ cambian segÃºn el setup.

### Quick test

Igual que Windows: entrar, cargar, verificar slots y estabilidad.

## Parte D â€” Estrategia de despliegue segura

Cuando actualices misiones:

1. Sube la nueva versiÃ³n junto a la anterior (`v03` al lado de `v02`).
2. Prueba con password u horas tranquilas.
3. Si algo falla, rollback inmediato a la versiÃ³n anterior.

## Errores tÃ­picos y soluciones

- **Entran jugadores pero no hay slots**:
  - Asegura `Client`, no `Player`.
  - Revisa coaliciÃ³n.
- **Lag fuerte al iniciar misiÃ³n**:
  - Menos IA activa; usa late activation y fases.
- **Triggers raros en servidor**:
  - AÃ±ade flags y pequeÃ±os delays; evita suposiciones de timing.

## Miniâ€‘lab (30â€“60 min)

Haz una misiÃ³n â€œsmoke testâ€ del servidor:

- 2 client slots
- 1 mensaje al inicio
- 1 F10 â€œStart exerciseâ€
- 1 mensaje al entrar en zona

Esta misiÃ³n te sirve como canario para comprobar que el servidor â€œestÃ¡ sanoâ€.


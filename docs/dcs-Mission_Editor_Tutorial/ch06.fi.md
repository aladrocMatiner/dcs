# Luku 06 â€” Pakkaa `.miz` + lataa + serverikierto (Windows + Linux)

ğŸ‡¬ğŸ‡§ [English](ch06.md) | ğŸ‡ªğŸ‡¸ [EspaÃ±ol](ch06.es.md) | ğŸ‡¸ğŸ‡ª [Svenska](ch06.sv.md) | ğŸ‡«ğŸ‡® **Suomi**

Takaisin indeksiin: [README.fi.md](README.fi.md)

## Tavoite

Vie missio â€œtoimii omalla koneellaâ€ â†’ â€œtoimii palvelimellaâ€:

- Valmistele siisti `.miz` (versioitu).
- Asenna/aja palvelin (Windows tai Linuxâ€‘isÃ¤ntÃ¤).
- LisÃ¤Ã¤ kiertoon ja testaa turvallisesti.

## TÃ¤rkeÃ¤ huomio (Linux)

Virallinen DCS Dedicated Server on Windowsâ€‘sovellus. Linuxâ€‘isÃ¤nnÃ¤llÃ¤ sitÃ¤ ajetaan usein Wine/Protonin kautta tai Windowsâ€‘VM:ssÃ¤.
TÃ¤mÃ¤ luku antaa **prosessin + checklistin**; tarkat asennusvaiheet riippuvat ympÃ¤ristÃ¶stÃ¤si.

## Osa A â€” Valmistele missio palvelimelle

### NimeÃ¤ + versioi

- `my_mission_v01.miz`
- `my_mission_v02.miz`

PidÃ¤ lyhyt `CHANGELOG.md`.

### ServeriystÃ¤vÃ¤llinen checklist

- Liikaa ainaâ€‘aktiivista AI:ta alussa â†’ kÃ¤ytÃ¤ late activation.
- Triggerâ€‘spÃ¤mmi â†’ kÃ¤ytÃ¤ flagâ€‘portteja.
- VÃ¤hintÃ¤Ã¤n yksi `Client`â€‘slotti per koalitio.

## Osa B â€” Dedicated Server Windowsissa (yleistaso)

### Asennus

YleisiÃ¤ vaihtoehtoja:

- â€œDCS Dedicated Serverâ€ (Steam) tai standalone serveriasennus.

### LisÃ¤Ã¤ missiot

1. Kopioi `.miz` palvelimen missionsâ€‘kansioon (tai tuttuun sijaintiin).
2. LisÃ¤Ã¤ mission list/kiertoon serverin UI:ssa.
3. Aloita pienellÃ¤ kierrolla (1â€“3 missiota).

### Quick test

1. KÃ¤ynnistÃ¤ palvelin.
2. Liity clientilla.
3. Lataa missio ja tarkista:
   - Slotit nÃ¤kyvÃ¤t
   - Missio kÃ¤ynnistyy
   - Ei triggerâ€‘spÃ¤mmiÃ¤

## Osa C â€” Palvelin Linuxissa (yleistaso)

Tyypillisesti:

- Ajetaan Windowsâ€‘serveriÃ¤ **Wine/Proton**â€‘ympÃ¤ristÃ¶ssÃ¤, tai
- Ajetaan Windowsâ€‘VM:ssÃ¤.

Huom:

- `.miz`â€‘hallinta on sama.
- Polut ja â€œSaved Gamesâ€ vaihtelevat setupin mukaan.

## Osa D â€” Turvallinen julkaisustrategia

PÃ¤ivityksissÃ¤:

1. Lataa uusi versio vanhan rinnalle (`v03` `v02`:n viereen).
2. Testaa salasanalla tai hiljaisina aikoina.
3. Jos jotain hajoaa: rollback heti.

## Yleiset virheet ja korjaukset

- **Pelaajat liittyvÃ¤t, mutta ei slotteja**:
  - `Client` vs `Player`, ja koalitio.
- **Serveri lagaa mission alussa**:
  - VÃ¤hemmÃ¤n ainaâ€‘aktiivista AI:ta; enemmÃ¤n late activation/faseja.
- **Triggerit kÃ¤yttÃ¤ytyvÃ¤t eri tavalla**:
  - LisÃ¤Ã¤ flagit ja pienet viiveet.

## Miniâ€‘lab (30â€“60 min)

Tee pieni â€œserver smoke testâ€ â€‘missio:

- 2 clientâ€‘slottia
- 1 aloitusviesti
- 1 F10 â€œStart exerciseâ€
- 1 zoneâ€‘viesti


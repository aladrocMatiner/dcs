# Luku 01 â€” DCS + Lua: mitÃ¤ skriptaus mahdollistaa (kÃ¤sitteellinen)

ğŸ‡¬ğŸ‡§ [English](ch01.md) | ğŸ‡ªğŸ‡¸ [EspaÃ±ol](ch01.es.md) | ğŸ‡¸ğŸ‡ª [Svenska](ch01.sv.md) | ğŸ‡«ğŸ‡® **Suomi**

Takaisin hakemistoon: [README.fi.md](README.fi.md)

## Tavoite

YmmÃ¤rtÃ¤Ã¤, mitÃ¤ DCSâ€‘tehtÃ¤vien skriptaus on, miksi DCS kÃ¤yttÃ¤Ã¤ Luaa ja millaisia ongelmia skriptauksella voidaan ratkaista â€” **ilman ettÃ¤ mennÃ¤Ã¤n vielÃ¤ koodiin**.

## MikÃ¤ DCS on (yleistaso)

DCS on taistelulentosimulaattori, jossa suurin osa kokemuksista on **tehtÃ¤viÃ¤ (missions)**:

- TehtÃ¤vÃ¤ mÃ¤Ã¤rittÃ¤Ã¤ maailman: kartta, aika, sÃ¤Ã¤, yksikÃ¶t, reittipisteet, triggerit ja sÃ¤Ã¤nnÃ¶t.
- TehtÃ¤vÃ¤t voivat olla â€œtrainingâ€, â€œinstant actionâ€, â€œcampaignâ€, moninpeliskenaarioita jne.

Mission Editor tarjoaa tehokkaat â€œilman koodiaâ€ â€‘tyÃ¶kalut (triggerit, liput, ehdot), ja **Luaâ€‘skriptaus** tulee kuvaan, kun tarvitaan enemmÃ¤n joustavuutta.

## MitÃ¤ â€œskriptausâ€ tarkoittaa

Skriptaus on **kÃ¤yttÃ¤ytymisen kuvaamista**: â€œkun tÃ¤mÃ¤ tapahtuu, tee tuoâ€.

Se ei ole sama asia kuin:

- **Avioniikan koodaus** (miten koneen jÃ¤rjestelmÃ¤t on toteutettu)
- **Modit** (assetit, ohjaamot, tekstuurit, lentomallit)

TehtÃ¤vÃ¤sriptaus koskee ennen kaikkea *skenaarion logiikkaa*.

## Miksi DCS kÃ¤yttÃ¤Ã¤ Luaa (kÃ¤sitteellisesti)

DCS kÃ¤yttÃ¤Ã¤ Luaa, koska se on:

- **Sulautettava** pelimoottoriin.
- **Kevyt**: nopea ladata, yksinkertainen syntaksi, helppo jakaa tehtÃ¤vÃ¤n mukana.
- **Joustava** â€œtapahtuma + sÃ¤Ã¤nnÃ¶t + tilaâ€ â€‘logiikkaan.

Sinun ei tarvitse olla ohjelmistokehittÃ¤jÃ¤ hyÃ¶tyÃ¤ksesi tÃ¤stÃ¤. Ajattele Luaa tapana tehdÃ¤ tehtÃ¤vistÃ¤ â€œreaktiivisiaâ€ eikÃ¤ vain â€œstaattisiaâ€.

## MitÃ¤ DCS Luaâ€‘skriptauksella voi tehdÃ¤ (kÃ¤sitteellisiÃ¤ esimerkkejÃ¤)

Alla olevat esimerkit ovat tarkoituksella **kÃ¤sitteellisiÃ¤** â€” kÃ¤ytÃ¤nnÃ¶ssÃ¤ voit toteuttaa ne Mission Editorin triggereillÃ¤, Lualla tai nÃ¤iden yhdistelmÃ¤llÃ¤.

### 1) Koulutus ja opetus

- Vaiheittaiset ohjeet (â€œNyt aseta Xâ€, â€œHyvÃ¤â€, â€œYritÃ¤ uudelleenâ€).
- Mukautuva palaute: jos oppilas on liian nopea/hidas/liian korkealla.
- Toistettavat harjoitukset (esim. â€œ3 yritystÃ¤â€, ajastus, pisteytys).

### 2) Tapahtumiin reagointi ja tarinan kuljetus

- Kun yksikkÃ¶ nousee/laskeutuu: pÃ¤ivitÃ¤ tavoitteet tai avaa seuraava vaihe.
- Kun kohde tuhoutuu: uusi tehtÃ¤vÃ¤, vahvistukset, radioviestit.
- Kun pelaaja menee vyÃ¶hykkeelle: kÃ¤ynnistÃ¤ ajastin, checkpoint tai vÃ¤ijytys.

### 3) Kulku ja eteneminen (tila/liput)

Lua on hyÃ¶dyllinen, kun haluat tehtÃ¤vÃ¤n toimivan kuin **tilakone**:

- Vaihe 1 â†’ Vaihe 2 â†’ Vaihe 3 sen mukaan mitÃ¤ oikeasti tapahtuu.
- Pisteytys, epÃ¤onnistumisehdot, osittainen onnistuminen ja haarautuminen.
- â€œEtenemisenâ€ tuntu yhden session aikana.

### 4) AI ja ryhmien hallinta (yleistaso)

- Aktivoi ryhmiÃ¤ vain tarpeen mukaan (suorituskyky ja tempo).
- LisÃ¤Ã¤ uhkia asteittain.
- TyÃ¶nnÃ¤ AIâ€‘tehtÃ¤viÃ¤ dynaamisesti (partiot, sieppaukset, saattueet).

### 5) Aika, ajastimet ja rytmi

- Tapahtumat viiveellÃ¤ (â€œjos yhÃ¤ elossa 5 min jÃ¤lkeenâ€¦â€).
- SÃ¤Ã¤nnÃ¶lliset tarkistukset (â€œ10 sekunnin vÃ¤lein, arvioi ehdotâ€).
- Aallot, palautumisikkunat ja aikarajalliset tavoitteet.

### 6) ViestintÃ¤ ja immersio

- Dynaamiset briefingâ€‘pÃ¤ivitykset.
- Tilannekohtaiset viestit (â€œRTBâ€, â€œdivertâ€, â€œuhka havaittuâ€).
- â€œRadioâ€‘fiilisâ€ ajastetuilla viesteillÃ¤ ja ehdoilla.

## MissÃ¤ Lua ajetaan DCS:ssÃ¤ (yleiskuva)

KÃ¤ytÃ¤nnÃ¶ssÃ¤ Lua ajetaan usein Mission Editorin triggereillÃ¤ kuten:

- `DO SCRIPT` (liitÃ¤t/kirjoitat Luaa)
- `DO SCRIPT FILE` (ajat tehtÃ¤vÃ¤Ã¤n liitetyn Luaâ€‘tiedoston)

KÃ¤ytÃ¤nnÃ¶n tyÃ¶putki tulee Luvussa 02. TÃ¤rkein ajatus:

- Skriptaus on osa **tehtÃ¤vÃ¤n logiikkakerrosta**.
- Iteroit nÃ¤in: muutos â†’ ajo â†’ havainnointi â†’ sÃ¤Ã¤tÃ¶.

## Debugâ€‘ajattelu (ilman tyÃ¶kaluja vielÃ¤)

Useimmat ongelmat eivÃ¤t ole â€œvaikeita bugejaâ€; tyypillisesti:

- Trigger ei lauennut.
- Nimi ei tÃ¤smÃ¤nnyt (ryhmÃ¤/vyÃ¶hyke/yksikkÃ¶).
- Tapahtumien jÃ¤rjestys oli eri kuin oletit.

EnsimmÃ¤inen tapa: **todista ettÃ¤ logiikka ajettiin** (ja paranna sitten kÃ¤ytÃ¶stÃ¤).

## YleisiÃ¤ virheitÃ¤ (ja miten niistÃ¤ kannattaa ajatella)

- **MitÃ¤Ã¤n ei tapahdu**: oleta ettÃ¤ trigger ei ajanut.
- **VÃ¤Ã¤rÃ¤ ryhmÃ¤/yksikkÃ¶**: nimien pitÃ¤Ã¤ tÃ¤smÃ¤tÃ¤ tarkasti.
- **Liikaa kerralla**: aloita yhdestÃ¤ asiasta ja laajenna.
- **Vastuiden sekoitus**: erottele â€œhavaintoâ€ ja â€œtoimintaâ€.

## Seuraavaksi

Luku 02 kattaa:

- KÃ¤ytÃ¤nnÃ¶n tyÃ¶putken (VS Code).
- MitÃ¤ pitÃ¤Ã¤ (ja ei pidÃ¤) asentaa Luaâ€‘tyÃ¶skentelyyn.
- YleisimmÃ¤t kirjastot (MIST/MOOSE ja muut) ja milloin niistÃ¤ on hyÃ¶tyÃ¤.

## Navigointi

Seuraava: [Luku 02](ch02.fi.md)

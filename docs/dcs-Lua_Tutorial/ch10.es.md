# CapÃ­tulo 10 â€” Tiempo y scheduler seguro: repetir sin â€œbloquearâ€ DCS

ğŸ‡¬ğŸ‡§ [English](ch10.md) | ğŸ‡ªğŸ‡¸ **EspaÃ±ol** | ğŸ‡¸ğŸ‡ª [Svenska](ch10.sv.md) | ğŸ‡«ğŸ‡® [Suomi](ch10.fi.md)

Volver al Ã­ndice: [README.es.md](README.es.md)

Ejemplo del capÃ­tulo: [examples/ex10_scheduler.lua](examples/ex10_scheduler.lua)

## QuÃ© vas a aprender

- Por quÃ© **NO** usar bucles tipo `while true do ... end` en DCS.
- CÃ³mo repetir cosas con seguridad usando `timer.scheduleFunction`.
- Un patrÃ³n simple: â€œcada N segundos, haz algoâ€.

## CÃ³mo se usa en DCS

En misiones reales, quieres cosas como:

- â€œCada 10 segundos, comprueba si el alumno estÃ¡ en zonaâ€.
- â€œCada 30 segundos, recuerda el objetivoâ€.
- â€œCada 5 segundos, actualiza un contadorâ€.

Eso se hace con el scheduler de DCS, no con bucles infinitos.

## Prueba rÃ¡pida (paso a paso)

1) Carga: [examples/ex10_scheduler.lua](examples/ex10_scheduler.lua) con `MISSION START` â†’ `DO SCRIPT FILE`.
2) Ejecuta.
3) Observa mensajes repetidos cada ~5 segundos.

## Errores tÃ­picos y soluciÃ³n

- **Se spammea demasiado**:
  - Sube el intervalo (de 5 a 10 o 30).
  - Muestra el mensaje 1â€“2 segundos, no 10.
- **No se repite**:
  - En `timer.scheduleFunction`, tienes que devolver el â€œprÃ³ximo tiempoâ€.

> **Si te sale error, haz esto:**
> - Empieza con un solo tick (sin repetir):
>   - `trigger.action.outText("tick", 2)`
> - Luego pasa a `scheduleFunction`.

## Miniâ€‘lab (15â€“30 min): recordatorio de entrenamiento

Objetivo: un recordatorio â€œsuaveâ€ cada 30 segundos.

1) Copia `ex10_scheduler.lua` a `my_ex10.lua`.
2) Cambia:
   - intervalo a 30 segundos
   - mensaje a algo Ãºtil (â€œRecuerda: trim + velocidad + altitudâ€)
3) Ejecuta y verifica.

## Checklist (debe verse en el juego)

- Aparece un mensaje corto cada ~30 segundos.
- La misiÃ³n no se congela.

## NavegaciÃ³n

Anterior: [CapÃ­tulo 09](ch09.es.md)  
Siguiente: [CapÃ­tulo 11](ch11.es.md)

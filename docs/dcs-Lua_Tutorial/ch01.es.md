# CapÃ­tulo 01 â€” DCS + Lua: para quÃ© sirve el scripting (conceptual)

ğŸ‡¬ğŸ‡§ [English](ch01.md) | ğŸ‡ªğŸ‡¸ **EspaÃ±ol** | ğŸ‡¸ğŸ‡ª [Svenska](ch01.sv.md) | ğŸ‡«ğŸ‡® [Suomi](ch01.fi.md)

Volver al Ã­ndice: [README.es.md](README.es.md)

## Objetivo

Entender quÃ© es el scripting de misiones en DCS, por quÃ© DCS usa Lua y quÃ© problemas puedes resolver con scripting â€” **sin meternos todavÃ­a en cÃ³digo**.

## QuÃ© es DCS (a alto nivel)

DCS es un simulador de combate donde la mayorÃ­a de experiencias se empaquetan como **misiones**:

- Una misiÃ³n define el estado del mundo: mapa, hora, meteorologÃ­a, unidades, waypoints, triggers y reglas.
- Las misiones pueden ser â€œtrainingâ€, â€œinstant actionâ€, â€œcampaignâ€, escenarios multijugador, etc.

El Editor de Misiones tiene herramientas â€œsin cÃ³digoâ€ (triggers, flags, condiciones), y el **scripting en Lua** estÃ¡ al lado cuando necesitas mÃ¡s flexibilidad.

## QuÃ© significa â€œscriptingâ€

Scripting es **describir comportamiento**: â€œcuando pase esto, haz aquelloâ€.

No es lo mismo que:

- **Programar aviÃ³nica** (cÃ³mo estÃ¡n implementados los sistemas del aviÃ³n)
- **Mods** (cambiar assets, cabinas, texturas, modelos de vuelo)

El scripting de misiÃ³n va sobre todo de la *lÃ³gica del escenario*.

## Por quÃ© DCS usa Lua (conceptual)

DCS usa Lua para scripting porque:

- Es **embebible**: un motor de juego lo puede ejecutar dentro de sus sistemas.
- Es **ligero**: carga rÃ¡pido, sintaxis simple, fÃ¡cil de distribuir con misiones.
- Es **flexible**: encaja bien con lÃ³gica de â€œeventos + reglas + estadoâ€.

No necesitas ser ingeniero de software para sacarle partido. Piensa en Lua como una forma de pasar de misiones â€œestÃ¡ticasâ€ a misiones â€œreactivasâ€.

## QuÃ© se puede hacer con scripting Lua en DCS (ejemplos conceptuales)

Los ejemplos de abajo son **conceptuales** â€” en la prÃ¡ctica puedes hacerlo con triggers del Editor, con Lua, o mezclando ambos.

### 1) Entrenamiento y enseÃ±anza

- Mostrar cues paso a paso (â€œAhora ajusta Xâ€, â€œBienâ€, â€œIntÃ©ntalo otra vezâ€).
- Lecciones adaptativas: si el alumno va demasiado rÃ¡pido/lento/alto, dar feedback especÃ­fico.
- PrÃ¡cticas repetibles (por ejemplo, â€œ3 intentosâ€, evaluaciones temporizadas, puntuaciÃ³n).

### 2) Reaccionar a eventos para mover la historia

- Cuando una unidad despega/aterriza: actualizar objetivos o desbloquear la siguiente fase.
- Cuando se destruye un objetivo: disparar una nueva tarea, activar refuerzos, cambiar mensajes.
- Al entrar en una zona: empezar un temporizador, marcar un checkpoint o iniciar una emboscada.

### 3) Flujo y progresiÃ³n (estado/flags)

Lua ayuda cuando quieres que la misiÃ³n se comporte como una **mÃ¡quina de estados**:

- Fase 1 â†’ Fase 2 â†’ Fase 3, segÃºn lo que ocurra de verdad.
- PuntuaciÃ³n, condiciones de fallo, Ã©xito parcial y rutas alternativas.
- SensaciÃ³n de â€œprogresoâ€ dentro de una misma sesiÃ³n.

### 4) Control de IA y grupos (alto nivel)

- Activar grupos solo cuando haga falta (rendimiento y ritmo).
- Crear/activar amenazas de forma progresiva.
- Empujar tareas dinÃ¡micamente (patrullas, interceptaciones, escoltas).

### 5) Tiempo, temporizadores y ritmo

- Disparar eventos tras retrasos (â€œsi sigue vivo tras 5 minutosâ€¦â€).
- Chequeos periÃ³dicos (â€œcada 10 segundos, evaluar condicionesâ€).
- Escalado por oleadas, ventanas de recuperaciÃ³n y objetivos con lÃ­mite de tiempo.

### 6) ComunicaciÃ³n e inmersiÃ³n

- Briefing dinÃ¡mico durante la misiÃ³n.
- Mensajes con contexto (â€œRTBâ€, â€œdivertâ€, â€œamenaza detectadaâ€) segÃºn lo que pasa.
- Flujo tipo â€œradioâ€ con mensajes temporizados y condiciones.

## DÃ³nde se ejecuta Lua en DCS (visiÃ³n general)

En la prÃ¡ctica, Lua suele ejecutarse mediante triggers del Editor de Misiones como:

- `DO SCRIPT` (pegas/escribes Lua)
- `DO SCRIPT FILE` (ejecutas un archivo Lua incluido en la misiÃ³n)

El workflow prÃ¡ctico lo cubrimos en el CapÃ­tulo 02. De momento, la idea clave es:

- El scripting vive en la **capa de lÃ³gica de misiÃ³n**.
- Iteras asÃ­: cambio â†’ ejecuto â†’ observo â†’ ajusto.

## Mentalidad de depuraciÃ³n (sin herramientas todavÃ­a)

La mayorÃ­a de problemas no son â€œbugs complicadosâ€; normalmente son:

- Un trigger no se ejecutÃ³.
- Un nombre no coincide (typo en nombre de grupo/zona/unidad).
- El orden de eventos no fue el que esperabas.

Primer hÃ¡bito: **demostrar que tu lÃ³gica se ejecutÃ³** (y luego afinar el comportamiento).

## Errores comunes (y cÃ³mo pensar en ellos)

- **No pasa nada**: asume que el trigger no se disparÃ³.
- **Unidad/grupo incorrecto**: los nombres deben coincidir exactos.
- **Intentar hacerlo todo a la vez**: reduce a un comportamiento y luego amplÃ­a.
- **Mezclar responsabilidades**: separa mentalmente â€œdetectarâ€ de â€œactuarâ€.

## Siguiente

El CapÃ­tulo 02 cubre:

- Un â€œpipelineâ€ para trabajar cÃ³modo (VS Code).
- QuÃ© hace falta (y quÃ© no) instalar para usar Lua con DCS.
- QuÃ© librerÃ­as comunes existen (MIST/MOOSE y otras) y cuÃ¡ndo ayudan.

## NavegaciÃ³n

Siguiente: [CapÃ­tulo 02](ch02.es.md)

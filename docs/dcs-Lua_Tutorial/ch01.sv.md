# Kapitel 01 â€” DCS + Lua: vad scriptning mÃ¶jliggÃ¶r (konceptuellt)

ğŸ‡¬ğŸ‡§ [English](ch01.md) | ğŸ‡ªğŸ‡¸ [EspaÃ±ol](ch01.es.md) | ğŸ‡¸ğŸ‡ª **Svenska** | ğŸ‡«ğŸ‡® [Suomi](ch01.fi.md)

Till index: [README.sv.md](README.sv.md)

## MÃ¥l

FÃ¶rstÃ¥ vad DCSâ€‘uppdragsscriptning Ã¤r, varfÃ¶r DCS anvÃ¤nder Lua och vilka problem scriptning kan lÃ¶sa â€” **utan att gÃ¥ ner i kod Ã¤nnu**.

## Vad DCS Ã¤r (pÃ¥ hÃ¶g nivÃ¥)

DCS Ã¤r en stridsflygsimulator dÃ¤r de flesta upplevelser paketeras som **uppdrag (missions)**:

- Ett uppdrag definierar vÃ¤rlden: karta, tid, vÃ¤der, enheter, waypoints, triggers och regler.
- Uppdrag kan vara â€œtrainingâ€, â€œinstant actionâ€, â€œcampaignâ€, multiplayerâ€‘scenarier, osv.

Mission Editor ger dig kraftfulla verktyg utan kod (triggers, flaggor, villkor), och **Luaâ€‘scriptning** anvÃ¤nds nÃ¤r du behÃ¶ver mer flexibilitet.

## Vad â€œscriptningâ€ betyder

Scriptning Ã¤r att **beskriva beteende**: â€œnÃ¤r detta hÃ¤nder, gÃ¶r det hÃ¤râ€.

Det Ã¤r inte samma sak som:

- **Avionikâ€‘kod** (hur flygplanssystemen Ã¤r implementerade)
- **Moddar** (Ã¤ndra assets, cockpit, texturer, flygmodell)

Uppdragsscriptning handlar frÃ¤mst om *scenariologik*.

## VarfÃ¶r DCS anvÃ¤nder Lua (konceptuellt)

DCS anvÃ¤nder Lua fÃ¶r att:

- Det Ã¤r **inbÃ¤ddningsbart** i spelmotorer.
- Det Ã¤r **lÃ¤ttviktigt**: snabb laddning, enkel syntax, lÃ¤tt att distribuera med uppdrag.
- Det Ã¤r **flexibelt** fÃ¶r â€œevent + regler + tillstÃ¥ndâ€.

Du behÃ¶ver inte vara utvecklare fÃ¶r att dra nytta av det. TÃ¤nk pÃ¥ Lua som ett sÃ¤tt att gÃ¶ra uppdrag â€œreaktivaâ€ istÃ¤llet fÃ¶r â€œstatiskaâ€.

## Vad du kan gÃ¶ra med DCS Luaâ€‘scriptning (konceptuella exempel)

Exemplen nedan Ã¤r medvetet **konceptuella** â€” i praktiken kan du lÃ¶sa dem med Mission Editorâ€‘triggers, med Lua, eller med en blandning.

### 1) TrÃ¤ning och undervisning

- Stegâ€‘fÃ¶râ€‘stegâ€‘instruktioner (â€œNu stÃ¤ll in Xâ€, â€œBraâ€, â€œFÃ¶rsÃ¶k igenâ€).
- Anpassade lektioner: feedback om eleven Ã¤r fÃ¶r snabb/lÃ¥ngsam/fÃ¶r hÃ¶g.
- Repetitiva Ã¶vningar (t.ex. â€œ3 fÃ¶rsÃ¶kâ€, tidtagning, poÃ¤ng).

### 2) Reagera pÃ¥ hÃ¤ndelser och driva berÃ¤ttelsen

- NÃ¤r en enhet startar/landar: uppdatera mÃ¥l eller lÃ¥s upp nÃ¤sta fas.
- NÃ¤r ett mÃ¥l fÃ¶rstÃ¶rs: ny uppgift, fÃ¶rstÃ¤rkningar, nya radiomeddelanden.
- NÃ¤r spelaren gÃ¥r in i en zon: starta timer, checkpoint eller bakhÃ¥ll.

### 3) FlÃ¶de och progression (tillstÃ¥nd/flagor)

Lua passar nÃ¤r du vill att uppdraget beter sig som en **tillstÃ¥ndsmaskin**:

- Fas 1 â†’ Fas 2 â†’ Fas 3, baserat pÃ¥ vad som faktiskt hÃ¤nder.
- PoÃ¤ng, misslyckanden, delvis framgÃ¥ng och fÃ¶rgreningar.
- â€œProgressâ€‘kÃ¤nslaâ€ inom en session.

### 4) AI och gruppkontroll (pÃ¥ hÃ¶g nivÃ¥)

- Aktivera grupper endast nÃ¤r de behÃ¶vs (prestanda och tempo).
- Skala hot gradvis.
- Skicka AIâ€‘uppgifter dynamiskt (patruller, intercept, eskort).

### 5) Tid, timers och tempo

- HÃ¤ndelser efter en fÃ¶rdrÃ¶jning (â€œom fortfarande i liv efter 5 minâ€¦â€).
- Periodiska kontroller (â€œvar 10:e sekund, utvÃ¤rdera villkorâ€).
- VÃ¥gor, Ã¥terhÃ¤mtningsfÃ¶nster och tidsmÃ¥l.

### 6) Kommunikation och immersion

- Dynamiska briefingâ€‘uppdateringar.
- Kontextmeddelanden (â€œRTBâ€, â€œdivertâ€, â€œhot detectedâ€).
- â€œRadioâ€‘kÃ¤nslaâ€ med tidsstyrda meddelanden och villkor.

## Var Lua kÃ¶rs i DCS (Ã¶versikt)

I praktiken kÃ¶rs Lua ofta via Mission Editorâ€‘triggers som:

- `DO SCRIPT` (klistra in/skriv Lua)
- `DO SCRIPT FILE` (kÃ¶r en Luaâ€‘fil som ingÃ¥r i uppdraget)

Det praktiska arbetsflÃ¶det kommer i Kapitel 02. NyckelidÃ©n Ã¤r:

- Scriptning Ã¤r en del av **uppdragets logiklager**.
- Du itererar: Ã¤ndra â†’ kÃ¶r â†’ observera â†’ justera.

## Debugâ€‘tÃ¤nk (utan verktyg Ã¤nnu)

De flesta problem Ã¤r inte â€œsvÃ¥ra buggarâ€; oftast handlar det om:

- Triggern kÃ¶rdes inte.
- Namn stÃ¤mmer inte (grupp/zon/enhet).
- HÃ¤ndelser kom i annan ordning Ã¤n du trodde.

FÃ¶rsta vanan: **bevisa att logiken kÃ¶rdes** (sedan fÃ¶rbÃ¤ttra beteendet).

## Vanliga misstag (och hur du tÃ¤nker kring dem)

- **Ingenting hÃ¤nder**: anta att triggern inte kÃ¶rdes.
- **Fel grupp/enhet**: namn mÃ¥ste matcha exakt.
- **FÃ¶r mycket pÃ¥ en gÃ¥ng**: bÃ¶rja med en sak, bygg sedan vidare.
- **Blanda ansvar**: skilj mentalt pÃ¥ â€œdetekteraâ€ och â€œageraâ€.

## NÃ¤sta steg

Kapitel 02 tÃ¤cker:

- En praktisk pipeline (VS Code).
- Vad du behÃ¶ver (och inte behÃ¶ver) installera.
- Vanliga bibliotek (MIST/MOOSE och andra) och nÃ¤r de hjÃ¤lper.

## Navigering

NÃ¤sta: [Kapitel 02](ch02.sv.md)

# Chapter 02 â€” Workflow pipeline, setup, and common DCS Lua libraries (VS Code)

ğŸ‡¬ğŸ‡§ **English** | ğŸ‡ªğŸ‡¸ [EspaÃ±ol](ch02.es.md) | ğŸ‡¸ğŸ‡ª [Svenska](ch02.sv.md) | ğŸ‡«ğŸ‡® [Suomi](ch02.fi.md)

Back to index: [README.md](README.md)

## Goal

Set up a practical workflow (â€œpipelineâ€) to work on DCS mission scripting comfortably, using **Visual Studio Code**, and understand the most common Lua libraries/ecosystems people use in DCS.

This chapter is still **light on code**. The main outcome is: â€œI know how I will workâ€.

## The workflow pipeline (author â†’ package â†’ run â†’ observe â†’ iterate)

Think of DCS mission scripting like an iterative loop:

1. **Author**: write/edit scripts in VS Code (fast feedback, search, version control).
2. **Package**: include scripts (and any libraries) into the mission you will run.
3. **Run**: launch the mission in DCS.
4. **Observe**: confirm your changes took effect (messages, behavior, logs).
5. **Iterate**: adjust one thing at a time until it matches your intent.

The mistake beginners make is trying to â€œfinish the whole mission logicâ€ before they have a reliable loop. Build the loop first.

## What you need to â€œinstallâ€ (and what you donâ€™t)

### To run Lua in DCS

You typically do **not** need to install Lua to *run* mission scripts in DCS.

DCS runs mission scripting using its own embedded Lua runtime, when you execute scripts via Mission Editor triggers (for example `DO SCRIPT` / `DO SCRIPT FILE`).

### To work comfortably (optional local tooling)

Local tooling is for **authoring quality**, not for execution inside DCS:

- **VS Code + Lua language server**: diagnostics, autocomplete, jump-to-definition (where possible).
- **Formatter** (optional): consistent indentation and style to keep diffs readable.
- **Lua interpreter** (optional): small offline experiments or sanity checks.

If you install a local Lua interpreter, treat it as â€œpractice modeâ€. DCS still runs scripts in its own environment, so keep your mission code conservative and verify in-game.

## VS Code setup (practical, editor-focused)

### 1) Install a Lua extension / language server

In VS Code, search for a Lua extension that provides:

- Syntax highlighting
- Diagnostics (linting-like feedback)
- Autocomplete / language server features

Look for â€œLua Language Serverâ€ support. Different extensions exist; the key is the language server capability.

### 2) Choose a simple folder layout

Keep your mission scripting organized from day one. A simple layout:

- `scripts/` â€” your mission code
- `libs/` â€” third-party libraries (MIST/MOOSE/etc.)
- `missions/` â€” the `.miz` you run (or notes about which mission youâ€™re editing)
- `notes/` â€” design notes, TODOs, checklists

The mission file is your â€œruntime containerâ€; the folder is your â€œsource of truthâ€.

### 3) Formatting strategy (keep it boring)

Pick a consistent indentation style and stick to it. The goal is not beauty â€” it is:

- Easy diffs
- Fewer â€œinvisibleâ€ mistakes
- Easier collaboration

If you adopt a formatter, use it consistently and avoid mixing formatting changes with logic changes in the same edit.

## Built-in DCS scripting API vs community libraries

There are two worlds you will hear about:

### Built-in DCS mission scripting surface

This is the scripting environment that exists in DCS missions. It provides the basic building blocks:

- Events (things that happen)
- Timers / periodic checks
- Messaging
- Access to mission objects (units, groups, coalitions, zones), within what DCS exposes

### Community libraries / frameworks

These are third-party Lua packages people use to avoid rewriting common patterns and to build more complex mission logic faster.

They typically help with:

- Higher-level abstractions (â€œtaskingâ€, â€œspawningâ€, â€œAI managementâ€)
- Utility helpers (finding units, tracking state, scheduling)
- Reusable systems (logistics, IADS, scoring frameworks)

## Common Lua libraries/frameworks in DCS (conceptual overview)

This section is intentionally â€œwhat itâ€™s forâ€, not â€œhow to code itâ€.

### MIST (Mission Scripting Tools)

Commonly used as a utility layer:

- Helpful functions and common patterns
- Useful when you want to stay close to â€œplain DCS scriptingâ€ but avoid boilerplate

### MOOSE (Mission Object Oriented Scripting Environment)

More of a framework:

- Helps structure larger missions with many interacting parts
- Useful when you want higher-level concepts (tasking, AI control patterns, reusable mission logic)

### Other common add-ons (categories)

Depending on the community and mission type, you may see:

- **IADS systems** (integrated air defense behavior)
- **Logistics / troop transport systems**
- **Administration tools** for multiplayer (messages, permissions, utilities)

Treat these as â€œmodulesâ€ you can adopt once your pipeline is stable.

## When to use Mission Editor triggers vs Lua vs libraries

A practical heuristic:

- If a behavior is simple and static: **Mission Editor triggers** are often enough.
- If you need dynamic flow, state, branching, repeated checks: **Lua** helps.
- If youâ€™re building a complex scenario with many systems: **libraries/frameworks** can save time, but add dependency/maintenance cost.

## Checklist: â€œmy pipeline is readyâ€

- [ ] VS Code is installed and I have a Lua language server extension enabled.
- [ ] I have a folder layout (`scripts/`, `libs/`, etc.) and I can find my files quickly.
- [ ] I know how I will include scripts into a mission (`DO SCRIPT` / `DO SCRIPT FILE`).
- [ ] I have a plan to verify results (messages/logs/observable behavior) every time.
- [ ] I know which direction I want to explore next (plain Lua, MIST utilities, or MOOSE framework).

## Next steps

In the next chapter, weâ€™ll write the smallest useful scripts and build your first reliable â€œchange â†’ run â†’ verifyâ€ loop with minimal code.


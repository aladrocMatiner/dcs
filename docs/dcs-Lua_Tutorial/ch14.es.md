# CapÃ­tulo 14 â€” DepuraciÃ³n sin drama: ver quÃ© pasa y arreglarlo (checklist)

ğŸ‡¬ğŸ‡§ [English](ch14.md) | ğŸ‡ªğŸ‡¸ **EspaÃ±ol** | ğŸ‡¸ğŸ‡ª [Svenska](ch14.sv.md) | ğŸ‡«ğŸ‡® [Suomi](ch14.fi.md)

Volver al Ã­ndice: [README.es.md](README.es.md)

Ejemplo del capÃ­tulo: [examples/ex14_debug_nil_checks.lua](examples/ex14_debug_nil_checks.lua)

## QuÃ© vas a aprender

- El 80% de los fallos tÃ­picos en scripts de misiÃ³n.
- CÃ³mo â€œprobar que se ejecutaâ€ (pantalla + log).
- CÃ³mo evitar errores por `nil` (nombres mal puestos).
- Un checklist rÃ¡pido para no perder horas.

## CÃ³mo se usa en DCS

En DCS, los fallos mÃ¡s comunes son:

- El trigger no se disparÃ³.
- El nombre de un grupo/zona/unidad no coincide.
- EstÃ¡s mirando el archivo de log equivocado.
- Ejecutaste el script dos veces y ahora todo estÃ¡ duplicado.

La tÃ©cnica mÃ¡s Ãºtil:

1) Mensaje visible (`trigger.action.outText`)
2) Log (`env.info`)
3) ComprobaciÃ³n de `nil` antes de usar objetos (`if not group then ... return end`)

## Prueba rÃ¡pida (paso a paso)

Objetivo: ver un mensaje si un grupo existe o no.

1) En el Mission Editor, crea un grupo con nombre exacto `TGT_01` (por ejemplo un vehÃ­culo estÃ¡tico).
2) Carga: [examples/ex14_debug_nil_checks.lua](examples/ex14_debug_nil_checks.lua) en `MISSION START`.
3) Ejecuta.

Prueba 2 (para ver el error controlado):

1) Cambia el nombre del grupo en el editor a `TGT_01A`.
2) Ejecuta otra vez.

## Errores tÃ­picos y soluciÃ³n

- **â€œNo existe el grupoâ€ pero yo lo veo**:
  - Revisa el nombre exacto (mayÃºsculas, espacios).
  - Revisa que el grupo se llama asÃ­, no la unidad dentro.
- **Crash / error por nil**:
  - EstÃ¡s usando un objeto que no existe.
  - SoluciÃ³n: siempre comprobar antes.

> **Si te sale error, haz esto:**
> - AÃ±ade un `outText("paso 1", 10)` al inicio del script.
> - Si no lo ves, el script no se ejecutÃ³. No sigas buscando â€œbugsâ€ hasta arreglar eso.

## Miniâ€‘lab (15â€“30 min): tu checklist personal de depuraciÃ³n

Objetivo: crear un procedimiento repetible.

1) Crea un archivo `my_debug.lua`.
2) Pega esto:
   - `outText("debug: init", 10)`
   - `env.info("[debug] init")`
3) Carga ese archivo en `MISSION START`.
4) Haz un cambio pequeÃ±o y ejecuta.
5) Si no cambia nada, revisa:
   - Â¿Guardaste la misiÃ³n?
   - Â¿Se ejecuta el trigger correcto?
   - Â¿EstÃ¡s usando el `.lua` correcto?

## Checklist (debe verse en el juego)

- Ves el mensaje â€œdebug: initâ€.
- Ves una lÃ­nea en `dcs.log` con `[debug] init`.
- Si cambias el texto, se refleja al ejecutar de nuevo.

## NavegaciÃ³n

Anterior: [CapÃ­tulo 13](ch13.es.md)  
Siguiente: [CapÃ­tulo 15](ch15.es.md)

# Chapter 13 â€” Clean structure: `MyMission` + config + logic (no chaos)

ğŸ‡¬ğŸ‡§ **English** | ğŸ‡ªğŸ‡¸ [EspaÃ±ol](ch13.es.md) | ğŸ‡¸ğŸ‡ª [Svenska](ch13.sv.md) | ğŸ‡«ğŸ‡® [Suomi](ch13.fi.md)

Back to index: [README.md](README.md)

Chapter example: [examples/ex13_namespace_structure.lua](examples/ex13_namespace_structure.lua)

## What youâ€™ll learn

- Why you need structure once scripts grow a little.
- The namespace pattern: `MyMission = MyMission or {}`.
- Separating `CFG` (config) and `state` (state).
- Calling functions from other triggers without getting lost.

## How it is used in DCS

Typical problem:

- You start with 10 lines.
- Then you have 300.
- And suddenly you donâ€™t know which variable is which.

Practical fix:

- One controlled global name: `MyMission`.
- Inside it:
  - `MyMission.CFG` (config)
  - `MyMission.state` (state)
  - `MyMission.functions` (functions)

Everything else stays `local`.

## Quick test (step-by-step)

1) Load at mission start: [examples/ex13_namespace_structure.lua](examples/ex13_namespace_structure.lua)
2) Run the mission.
3) You should see â€œMyMission boots: Xâ€.

## Common errors and fixes

- **`MyMission` is nil**:
  - Make sure the script runs at `MISSION START`.
- **It runs multiple times**:
  - If you put it in multiple triggers, `boots` will increase.
  - For init scripts, run once.

> **If you get an error, do this:**
> - Start with:
>   - `MyMission = MyMission or {}`
>   - `trigger.action.outText("MyMission ready", 10)`

## Miniâ€‘lab (20â€“30 min): a trigger calls `MyMission.status()`

Goal: â€œloaded scriptâ€ + â€œanother trigger calls a functionâ€.

1) Load `ex13_namespace_structure.lua` at `MISSION START`.
2) Create another trigger with action `DO SCRIPT` and paste:

```lua
if MyMission and MyMission.status then
  MyMission.status()
else
  trigger.action.outText("MyMission is not ready yet", 10)
end
```

3) Fire that trigger with a simple condition (example: `TIME MORE (15)`).
4) Run and confirm status shows again.

## Checklist (what you must see in-game)

- At start: â€œMyMission boots: 1â€.
- Later: status prints again.
- No `nil` errors.

## Navigation

Previous: [Chapter 12](ch12.md)  
Next: [Chapter 14](ch14.md)

